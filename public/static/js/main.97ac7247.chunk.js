(this["webpackJsonpget-scripts"]=this["webpackJsonpget-scripts"]||[]).push([[0],{36:function(e,t){},43:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(1),i=a.n(n),c=a(34),r=a.n(c),o=a(4),l=a(11),d=a(2),h=a(3),j=a(6),u=a(5),b=(a(43),a(7)),m=i.a.createContext({}),p=a(16),v=a.n(p);a(20).config();var O=new(function(){function e(){Object(d.a)(this,e),this.api=v.a.create({baseURL:"https://lmen-confeccion.herokuapp.com/api",withCredentials:!0})}return Object(h.a)(e,[{key:"getAll",value:function(){return this.api.get("/products").then((function(e){return e.data})).catch((function(e){console.log(e)}))}},{key:"getForCategories",value:function(e){return this.api.get("/categories/"+e).then((function(e){return e.data})).catch((function(e){console.log(e)}))}},{key:"getOne",value:function(e){return this.api.get("/products/"+e).then((function(e){return e.data})).catch((function(e){console.log(e)}))}},{key:"createOne",value:function(e,t,a,s,n,i,c,r,o){return this.api.post("/products/",{image:e,name:t,description:a,dimension:s,category:n,technic:i,material:c,price:r,stock:o}).then((function(e){return e.data})).catch((function(e){console.log(e)}))}},{key:"getCategories",value:function(){return this.api.get("/categories").then((function(e){return e.data})).catch((function(e){console.log(e)}))}},{key:"postReview",value:function(e,t,a,s){return this.api.post("/product/"+e+"/reviews",{productId:e,title:t,message:a,rate:s}).then((function(e){return e.data})).catch((function(e){console.log(e)}))}}]),e}());a(20).config();var g=new(function(){function e(){Object(d.a)(this,e),this.auth=v.a.create({baseURL:"https://lmen-confeccion.herokuapp.com",withCredentials:!0})}return Object(h.a)(e,[{key:"signup",value:function(e,t,a,s,n,i,c,r,o,l,d,h,j,u){return console.log("Fields :>> ",j,u),console.log("SIGNING UP FROM AUTH SERVICE"),this.auth.post("/auth/signup",{firstName:e,lastName:t,address:a,country:s,CP:n,city:i,state:c,phoneNumber:r,gender:o,birthDateDay:l,birthDateMonth:d,birthDateYear:h,email:j,password:u}).then((function(e){return e.data}))}},{key:"login",value:function(e,t){return this.auth.post("/auth/login",{email:e,password:t}).then((function(e){return e.data}))}},{key:"logout",value:function(){return this.auth.get("/auth/logout").then((function(e){return e.data}))}},{key:"me",value:function(){return this.auth.get("/auth/me").then((function(e){return e.data}))}},{key:"user",value:function(){return this.auth.get("/auth/user").then((function(e){return e.data}))}},{key:"editProfile",value:function(e,t,a,s,n,i,c,r,o,l,d,h,j,u,b,m){return console.log("EDITING PROFILE FROM AUTH SERVICE"),console.log("Sending data :>> ",e,t,a,s,n,i,c,r,o,l,d,h,j,u,b,m),this.auth.post("/auth/editProfile",{firstName:e,lastName:t,address:a,country:s,CP:n,city:i,state:c,phoneNumber:r,gender:o,birthDateDay:l,birthDateMonth:d,birthDateYear:h,email:j,currentPassword:u,password:b,repeatpassword:m}).then((function(e){return e.data}))}},{key:"getCart",value:function(){return this.auth.get("/auth/cart").then((function(e){return e.data}))}},{key:"setCart",value:function(e){return console.log("Auth service adding cart :>> ",e),this.auth.post("/auth/cart",e).then((function(e){return e.data}))}},{key:"postFavorite",value:function(e,t){return console.log("Updating favourite list :>> ",t),this.auth.post("/auth/favourites",{productId:e,favourite:t}).then((function(e){return e.data}))}}]),e}()),x=function(e){return function(t){return Object(s.jsx)(m.Consumer,{children:function(a){return Object(s.jsx)(e,Object(l.a)(Object(l.a)({},t),{},{context:a}))}})}},f=function(e){var t=e.cartItem,a=e.cartKey;console.log("cartItem from CartItem :>> ",t),console.log("cartKey from CartItem :>> ",a);var n=t.product,i=t.amount;return Object(s.jsx)("div",{className:" column is-half",children:Object(s.jsx)("div",{className:"box",children:Object(s.jsxs)("div",{className:"media",children:[Object(s.jsx)("div",{className:"media-left",children:Object(s.jsx)("figure",{className:"image is-64x64",children:Object(s.jsx)("img",{src:"https://res.cloudinary.com/dps0lnavi/image/upload/w_".concat("150",",h_").concat("150",",c_scale/").concat(n.image,"_1.jpg"),alt:n.shortDesc})})}),Object(s.jsxs)("div",{className:"media-content",children:[Object(s.jsxs)("b",{style:{textTransform:"capitalize"},children:[n.name," ",Object(s.jsxs)("span",{className:"tag is-primary",children:["$",n.price]})]}),Object(s.jsx)("div",{children:n.shortDesc}),Object(s.jsx)("small",{children:"".concat(i," in cart")})]}),Object(s.jsx)("div",{className:"media-right",onClick:function(){return e.removeFromCart(a)},children:Object(s.jsx)("span",{className:"delete is-large"})})]})})})},C=x((function(e){var t=e.context.cart;console.log("props.context from Cart detail:>> ",e.context);var a=Object.keys(t||{});return console.log("cartKeys :>> ",a,t),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"",children:Object(s.jsx)("div",{className:"",children:Object(s.jsx)("h4",{className:"title",children:"My Cart"})})}),Object(s.jsx)("br",{}),Object(s.jsx)("div",{className:"container",children:a.length?Object(s.jsxs)("div",{className:"",children:[a.map((function(a){return Object(s.jsx)(f,{cartKey:a,cartItem:t[a],removeFromCart:e.context.removeFromCart},a)})),Object(s.jsxs)("div",{className:"",children:[Object(s.jsx)("br",{}),Object(s.jsxs)("div",{className:"",children:[Object(s.jsx)("button",{onClick:e.context.clearCart,className:"",children:"Clear cart"})," ",Object(s.jsx)("button",{className:"",onClick:e.context.checkout,children:"Checkout"})]})]})]}):Object(s.jsx)("div",{className:"column",children:Object(s.jsx)("div",{className:"",children:"No item in cart!"})})}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{})," ",Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{})]})})),y=a(10),N=i.a.createContext(),F=N.Consumer,w=N.Provider,D=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={isLoggedIn:!1,isLoading:!0,email:null,messageLogin:"",messageSignup:""},e.signup=function(t,a,s,n,i,c,r,o,l,d,h,j,u,b){g.signup(t,a,s,n,i,c,r,o,l,d,h,j,u,b).then((function(t){return e.setState({isLoggedIn:!0,email:t})})).catch((function(t){var a=t.response.data.message;e.setState({isLoggedIn:!1,email:null,messageSignup:a})}))},e.login=function(t,a){g.login(t,a).then((function(t){return e.setState({isLoggedIn:!0,email:t})})).catch((function(t){var a=t.response.data.message;e.setState({isLoggedIn:!1,email:null,messageLogin:a})}))},e.logout=function(){g.logout().then((function(){return e.setState({isLoggedIn:!1,email:null})})).catch((function(e){return console.log(e)}))},e.editProfile=function(e,t,a,s,n,i,c,r,o,l,d,h,j,u){g.editProfile(e,t,a,s,n,i,c,r,o,l,d,h,j,u).then((function(e){return console.log("Updated profile")})).catch((function(e){console.log("Errorin updating profile")}))},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.me().then((function(t){return e.setState({isLoggedIn:!0,email:t,isLoading:!1})})).catch((function(t){return e.setState({isLoggedIn:!1,email:null,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoggedIn,a=e.isLoading,n=e.email,i=e.messageLogin,c=e.messageSignup,r=this.signup,o=this.login,l=this.logout;return a?Object(s.jsx)("p",{children:"Loading"}):Object(s.jsx)(w,{value:{isLoggedIn:t,isLoading:a,email:n,signup:r,login:o,logout:l,messageLogin:i,messageSignup:c},children:this.props.children})}}]),a}(i.a.Component),S=function(e){return function(t){Object(j.a)(n,t);var a=Object(u.a)(n);function n(){return Object(d.a)(this,n),a.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var t=this;return Object(s.jsx)(F,{children:function(a){var n=a.isLoggedIn,i=a.isLoading,c=a.email,r=a.signup,o=a.login,d=a.logout,h=a.messageLogin,j=a.messageSignup;return Object(s.jsx)(e,Object(l.a)(Object(l.a)({},t.props),{},{isLoggedIn:n,isLoading:i,user:c,signup:r,login:o,logout:d,messageLogin:h,messageSignup:j}))}})}}]),n}(i.a.Component)},k=S(function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={firstName:"",lastName:"",address:"",country:"",CP:"",city:"",state:"",phoneNumber:"",gender:"",birthDateDay:"",birthDateMonth:"",birthDateYear:"",email:"",password:"",repeatpassword:""},e.handleLoginFormSubmit=function(t){t.preventDefault();var a=e.state,s=a.email,n=a.password;e.props.login(s,n)},e.handleSignUpFormSubmit=function(t){t.preventDefault();var a=e.state,s=a.firstName,n=a.lastName,i=a.address,c=a.country,r=a.CP,o=a.city,l=a.state,d=a.phoneNumber,h=a.gender,j=a.birthDateDay,u=a.birthDateMonth,b=a.birthDateYear,m=a.email,p=a.password;e.props.signup(s,n,i,c,r,o,l,d,h,j,u,b,m,p)},e.handleChange=function(t){var a=t.target,s=a.name,n=a.value;e.setState(Object(y.a)({},s,n))},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this.state,t=e.firstName,a=e.lastName,n=e.address,i=e.country,c=e.CP,r=e.city,o=e.state,l=e.phoneNumber,d=e.birthDateDay,h=e.birthDateMonth,j=e.birthDateYear,u=e.email,b=e.password,m=e.repeatpassword;return Object(s.jsxs)("div",{className:"loginDiv",children:[Object(s.jsxs)("div",{className:"authForm",children:[Object(s.jsx)("div",{children:Object(s.jsx)("p",{children:"Already have account?"})}),Object(s.jsx)("div",{children:Object(s.jsx)("h1",{children:"Login"})}),Object(s.jsx)("br",{}),Object(s.jsxs)("form",{onSubmit:this.handleLoginFormSubmit,children:[Object(s.jsx)("div",{children:Object(s.jsx)("label",{htmlFor:"email",children:"Email"})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"text",name:"email",value:u,onChange:this.handleChange})}),Object(s.jsx)("div",{children:Object(s.jsx)("label",{htmlFor:"password",children:"Password:"})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"password",name:"password",value:b,onChange:this.handleChange})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"submit",value:"Login"})}),Object(s.jsx)("div",{children:this.props.messageLogin?this.props.messageLogin:null})]})]}),Object(s.jsxs)("div",{className:"authForm",children:[Object(s.jsx)("div",{children:"Already don't have an account?"}),Object(s.jsx)("div",{children:Object(s.jsx)("h1",{children:"Sign Up"})}),Object(s.jsxs)("form",{onSubmit:this.handleSignUpFormSubmit,children:[Object(s.jsx)("div",{children:Object(s.jsx)("label",{htmlFor:"password",children:"First name"})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"text",name:"firstName",value:t,onChange:this.handleChange})}),Object(s.jsx)("div",{children:Object(s.jsx)("label",{htmlFor:"lastName",children:"Last name"})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"text",name:"lastName",value:a,onChange:this.handleChange})}),Object(s.jsx)("div",{children:Object(s.jsx)("label",{htmlFor:"address",children:"Address"})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"text",name:"address",value:n,onChange:this.handleChange})}),Object(s.jsx)("div",{children:Object(s.jsx)("label",{htmlFor:"country",children:"Country"})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"text",name:"country",value:i,onChange:this.handleChange})}),Object(s.jsx)("div",{children:Object(s.jsx)("label",{htmlFor:"CP",children:"Zip code"})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"text",name:"CP",value:c,onChange:this.handleChange})}),Object(s.jsx)("div",{children:Object(s.jsx)("label",{htmlFor:"city",children:"City"})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"text",name:"city",value:r,onChange:this.handleChange})}),Object(s.jsx)("div",{children:Object(s.jsx)("label",{htmlFor:"state",children:"State / state"})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"text",name:"state",value:o,onChange:this.handleChange})}),Object(s.jsx)("div",{children:Object(s.jsx)("label",{htmlFor:"phoneNumber",children:"Phone number"})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"text",name:"phoneNumber",value:l,onChange:this.handleChange})}),Object(s.jsx)("div",{children:Object(s.jsx)("label",{htmlFor:"birthDateDay",children:"Birth date"})}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"text",name:"birthDateDay",value:d,onChange:this.handleChange}),"/",Object(s.jsx)("input",{type:"text",name:"birthDateMonth",value:h,onChange:this.handleChange}),"/",Object(s.jsx)("input",{type:"text",name:"birthDateYear",value:j,onChange:this.handleChange})]}),Object(s.jsx)("div",{children:Object(s.jsx)("label",{htmlFor:"gender",children:"Gender"})}),Object(s.jsxs)("div",{children:["Male"," ",Object(s.jsx)("input",{type:"radio",name:"gender",value:"male",id:"male",onChange:this.handleChange})," ","- Female",Object(s.jsx)("input",{type:"radio",name:"gender",id:"female",value:"female",onChange:this.handleChange})," ","- Other",Object(s.jsx)("input",{type:"radio",name:"gender",id:"other",value:"other",onChange:this.handleChange})]}),Object(s.jsx)("div",{children:Object(s.jsx)("label",{htmlFor:"email",children:"Email:"})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"text",name:"email",value:u,onChange:this.handleChange})}),Object(s.jsx)("div",{children:Object(s.jsx)("label",{htmlFor:"password",children:"Password:"})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"password",name:"password",value:b,onChange:this.handleChange})}),Object(s.jsx)("div",{children:Object(s.jsx)("label",{htmlFor:"password",children:"Repeat password:"})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"password",name:"repeatpassword",value:m,onChange:this.handleChange})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"submit",value:"Signup"})}),Object(s.jsx)("div",{children:this.props.messageSignup?this.props.messageSignup:null})]})]})]})}}]),a}(n.Component)),P=x(function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).addToFavourites=function(t,a){console.log("this.state from Home addToFav :>> ",e.state);var s=e.state.favourites,n=e.state.isFavorite;console.log("favourites :>> ",s);var i=g.postFavorite(t,s).then((function(c){return console.log("Added to favourite created updated user:>> ",c),s.push(t),n=!0,e.setState({favourites:s,isFavorite:n},(function(){return a&&a()})),i})).catch((function(e){}))},e.removeFromFavourites=function(t,a){console.log("this.state from Home removeFromFav :>> ",e.state);var s=e.state.favourites;e.state.isFavorite;console.log("favourites :>> ",s),s.splice(s.indexOf(t),1),e.setState({favourites:s,isFavorite:false},(function(){return a&&a()}))},e.state={products:"",favourites:[]},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=this.props.product;return Object(s.jsxs)("div",{className:"listCard",children:[" ",Object(s.jsxs)(o.b,{to:"/productDetail/"+t._id,children:[Object(s.jsx)("div",{children:Object(s.jsx)("img",{src:"https://res.cloudinary.com/dps0lnavi/image/upload/w_".concat("200",",h_").concat("200",",c_scale/v1607543765/").concat(t.image.toLowerCase(),"_1.jpg"),alt:"",className:"productListImg"})}),Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{className:"productListItem",children:t.name}),Object(s.jsxs)("p",{children:[t.price," \u20ac -- BUY"]})]})]}),Object(s.jsx)("div",{children:this.state.isFavorite?Object(s.jsx)("button",{onClick:function(){return e.removeFromFavourites(t._id)},children:"\u2764\ufe0f"}):Object(s.jsx)("button",{onClick:function(){return e.addToFavourites(t._id)},children:"\ud83e\udd0d"})})]})}}]),a}(n.Component)),L=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).getAllCategories=function(){O.getCategories().then((function(t){var a=t.data;e.setState({categories:a})})).catch((function(e){console.log("err from getAllCategories",e)}))},e.state={categories:[]},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.getAllCategories()}},{key:"render",value:function(){var e=this.state.categories,t=this.props.getCategoryProducts;return Object(s.jsx)("div",{children:e&&e.map((function(e){return Object(s.jsx)(o.b,{to:"/ProductList/category/"+e,onClick:function(){return t(e)},children:e},e)}))})}}]),a}(n.Component),I=x(S(function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).getAllProducts=function(){O.getAll().then((function(t){e.setState({products:t})})).catch((function(e){console.log(e)}))},e.getCategoryProducts=function(t){O.getForCategories(t).then((function(t){e.setState({products:t})})).catch((function(e){console.log(e)}))},e.addToFavourites=function(t,a){var s=e.state.favourites,n=e.state.isFavorite,i=g.postFavorite(t,s).then((function(c){return s.push(t),n=!0,e.setState({favourites:s,isFavorite:n},(function(){return a&&a()})),i})).catch((function(e){}))},e.removeFromFavourites=function(t,a){var s=e.state.favourites;e.state.isFavorite;s.splice(s.indexOf(t),1),e.setState({favourites:s,isFavorite:false},(function(){return a&&a()}))},e.state={products:[],favourites:[]},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.category,t=[];(e=e||"")?this.getCategoryProducts(e):this.getAllProducts(),t=this.props.user?this.props.user.favourites:[],this.setState({favourites:t})}},{key:"render",value:function(){var e=this,t=!1,a=this.state.products;return Object(s.jsxs)("div",{className:"productListContDiv",children:[Object(s.jsx)("div",{className:"menuCategories",children:Object(s.jsx)(L,{getCategoryProducts:this.getCategoryProducts})}),a&&a.map((function(a){return t=!(!e.state.favourites||!e.state.favourites.includes(a._id)),Object(s.jsx)("div",{children:Object(s.jsx)(P,{addToFavourites:e.addToFavourites,removeFromFavourites:e.removeFromFavourites,isFavorite:t,product:a})},a._id)}))]})}}]),a}(n.Component)));var A=function(e){var t=e.review;return Object(s.jsx)("div",{children:t.length?t.map((function(e){return Object(s.jsxs)("div",{children:[Object(s.jsxs)("h3",{children:[e.title," ",Object(s.jsx)("br",{}),e.message," ",Object(s.jsx)("br",{})," ",e.userId.email," -",e.updated_at]}),Object(s.jsx)("p",{children:e.description})]},e._id)})):Object(s.jsx)("div",{children:"No reviews"})})},_=x(function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={product:{},review:[],img1:"",img2:"",img3:"",img4:"",img5:""},e}return Object(h.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this.props.product,a=this.props.review;if(this.props.product!==e.product){for(var s=1;s<=5;s++){var n="img"+s;this.setState(Object(y.a)({},n,this.props.product.image+"_"+s))}this.setState({product:t,review:a})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.product,n=t.review;console.log("props from DetailCard :>> ",this.props);var i="150",c="150",r=this.props.context.addToCart;return Object(s.jsxs)("div",{className:"detailCard",children:[Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"detailData",children:[Object(s.jsx)("p",{children:a&&a.name}),Object(s.jsx)("br",{}),Object(s.jsx)("p",{children:a&&a.description}),this.props.isFavorite?Object(s.jsx)("button",{onClick:function(){return e.props.removeFromFavourites(a._id)},children:"\u2764\ufe0f"}):Object(s.jsx)("button",{onClick:function(){return e.props.addToFavourites(a._id)},children:"\ud83e\udd0d"})]}),Object(s.jsx)("div",{className:"detailMainImg",children:Object(s.jsx)("img",{src:"https://res.cloudinary.com/dps0lnavi/image/upload/w_".concat(i,",h_").concat(c,",c_scale/").concat(a.image,"_1.jpg"),alt:"",className:"detailImage"})}),Object(s.jsxs)("div",{className:"detailImgBox",children:[Object(s.jsx)("div",{children:Object(s.jsx)("img",{src:"https://res.cloudinary.com/dps0lnavi/image/upload/w_".concat(i,",h_").concat(c,",c_scale/").concat(this.state.img2,".jpg"),alt:"",className:"detailImage"})}),Object(s.jsx)("div",{children:Object(s.jsx)("img",{src:"https://res.cloudinary.com/dps0lnavi/image/upload/w_".concat(i,",h_").concat(c,",c_scale/").concat(this.state.img3,".jpg"),alt:"",className:"detailImage"})}),Object(s.jsx)("div",{children:Object(s.jsx)("img",{src:"https://res.cloudinary.com/dps0lnavi/image/upload/w_".concat(i,",h_").concat(c,",c_scale/").concat(this.state.img4,".jpg"),alt:"",className:"detailImage"})}),Object(s.jsx)("div",{children:Object(s.jsx)("img",{src:"https://res.cloudinary.com/dps0lnavi/image/upload/w_".concat(i,",h_").concat(c,",c_scale/").concat(this.state.img5,".jpg"),alt:"",className:"detailImage"})})]}),Object(s.jsx)("div",{children:Object(s.jsx)(A,{product:a,review:n})})]}),Object(s.jsxs)("div",{children:[Object(s.jsxs)("b",{style:{textTransform:"capitalize"},children:[a.name," "]}),Object(s.jsx)("div",{children:a.description}),a.stock>0?Object(s.jsx)("small",{children:a.stock+" Available"}):Object(s.jsx)("small",{className:"",children:"Out Of Stock"}),Object(s.jsxs)("div",{className:"",children:[Object(s.jsxs)("span",{className:"",children:["\u20ac ",a.price," "]}),Object(s.jsx)("button",{className:"",onClick:function(){return r({id:a._id,product:a,amount:1})},children:"Add to Cart"}),Object(s.jsx)(o.b,{to:"/private/cart",children:"See cart"})]})]})]})}}]),a}(n.Component)),M=S(function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={product:[],review:[],showAddReview:!1,title:"",message:"",rate:"",favourites:[],isFavorite:!1},e.showAddReview=function(){e.state.showAddReview?e.setState({showAddReview:!1}):e.setState({showAddReview:!0})},e.updateReviews=function(t){console.log("UpdateReviews running"),e.getOneProduct(t)},e.getOneProduct=function(t){O.getOne(t).then((function(a){var s=a.review,n=a.favourites,i=!1;n||(n=[]),i=!(!n.length||!n.includes(t)),e.setState({product:a,review:s,favourites:n,isFavorite:i})})).catch((function(e){console.log(e)}))},e.handleChange=function(t){var a=t.target,s=a.name,n=a.value;e.setState(Object(y.a)({},s,n))},e.handleSubmit=function(t){t.preventDefault();var a=e.state.review,s=O.postReview(e.state.product._id,e.state.title,e.state.message,e.state.rate).then((function(t){return console.log("Review created :>> ",t),a.push(t),e.setState({review:a}),s})).catch((function(e){}))},e.addToFavourites=function(t,a){console.log("this.state from Product Detail addToFav :>> ",e.state);var s=e.state.favourites,n=e.state.isFavorite;console.log("favourites :>> ",s);var i=g.postFavorite(t,s).then((function(c){return console.log("Added to favourite created updated user:>> ",c),s.push(t),n=!0,e.setState({favourites:s,isFavorite:n},(function(){return a&&a()})),i})).catch((function(e){}))},e.removeFromFavourites=function(t,a){console.log("this.state from Product Detail addToFav :>> ",e.state);var s=e.state.favourites;e.state.isFavorite;console.log("favourites :>> ",s),s.splice(s.indexOf(t),1),e.setState({favourites:s,isFavorite:false},(function(){return a&&a()}))},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.getOneProduct(e)}},{key:"render",value:function(){var e=this.state.isFavorite;return Object(s.jsxs)("div",{className:"productDetail",children:[Object(s.jsx)(_,{isFavorite:e,addToFavourites:this.addToFavourites,removeFromFavourites:this.removeFromFavourites,product:this.state.product,review:this.state.review}),Object(s.jsxs)("div",{className:"reviewBlock",children:[Object(s.jsx)("div",{children:Object(s.jsx)("button",{onClick:this.showAddReview,children:this.state.showAddReview?"Hide form":"Add Review"})}),this.state.showAddReview?Object(s.jsx)("div",{children:Object(s.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(s.jsx)("div",{children:Object(s.jsx)("label",{htmlFor:"title",children:"Title"})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"text",name:"title",id:"title",onChange:this.handleChange})}),Object(s.jsx)("div",{children:Object(s.jsx)("label",{htmlFor:"message",children:"Message"})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"textarea",cols:"10",lines:"10",name:"message",id:"message",onChange:this.handleChange})}),Object(s.jsx)("div",{children:Object(s.jsx)("label",{htmlFor:"rate",children:"rate"})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"number",name:"rate",min:"1",max:"5",id:"rate",onChange:this.handleChange})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"submit",value:"Add it"})})]})}):null]}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{})]})}}]),a}(n.Component)),E=S(function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={user:{}},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=g.user().then((function(a){return console.log("user :>> ",a),e.setState({user:a}),console.log("this.state :>> ",e.state),t})).catch((function(e){console.log("Error retriving user")}))}},{key:"render",value:function(){return Object(s.jsxs)("div",{className:"showProfile",children:[Object(s.jsx)("h1",{children:"User profile"}),Object(s.jsx)("br",{}),Object(s.jsxs)("div",{className:"profileItems",children:[Object(s.jsx)("h3",{children:"Name"}),this.state.user.firstName]}),Object(s.jsxs)("div",{className:"profileItems",children:[Object(s.jsx)("h3",{children:"Last name"}),this.state.user.lasttName]}),Object(s.jsxs)("div",{className:"profileItems",children:[Object(s.jsx)("h3",{children:"Email"}),this.state.user.email]}),Object(s.jsxs)("div",{className:"profileItems",children:[Object(s.jsx)("h3",{children:"Phone number"}),this.state.user.phoneNumber]}),Object(s.jsxs)("div",{className:"profileItems",children:[Object(s.jsx)("h3",{children:"Gender"}),this.state.user.gender]}),Object(s.jsxs)("div",{className:"profileItems",children:[Object(s.jsx)("h3",{children:"Birth day"}),this.state.user.birthDateDay+"/"+this.state.user.birthDateMonth+"/"+this.state.user.birthDateYear]}),Object(s.jsxs)("div",{className:"profileItems",children:[Object(s.jsx)("h3",{children:"Address"}),this.state.user.address]}),Object(s.jsxs)("div",{className:"profileItems",children:[Object(s.jsx)("h3",{children:"Country"}),this.state.user.country]}),Object(s.jsxs)("div",{className:"profileItems",children:[Object(s.jsx)("h3",{children:"Zip code"}),this.state.user.CP]}),Object(s.jsxs)("div",{className:"profileItems",children:[Object(s.jsx)("h3",{children:"City"}),this.state.user.city]}),Object(s.jsxs)("div",{className:"profileItems",children:[Object(s.jsx)("h3",{children:"State / Province"}),this.state.user.state]}),Object(s.jsx)(o.b,{to:"/private/EditProfile",children:"Edit"})]})}}]),a}(n.Component));a(20).config();var R=new(function(){function e(){Object(d.a)(this,e),this.api=v.a.create({baseURL:"https://countries-cities.p.rapidapi.com/location/country",withCredentials:!0})}return Object(h.a)(e,[{key:"getCountries",value:function(){return this.api.get("/list").then((function(e){return e.data})).catch((function(e){console.log(e)}))}},{key:"getCities",value:function(e){return this.api.get("/"+e+"/city/list").then((function(e){return e.data})).catch((function(e){console.log(e)}))}}]),e}()),T=S(x(function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={user:{},countries:{},cities:[{}]},e.handleSignUpFormSubmit=function(t){t.preventDefault();var a=e.state,s=a.firstName,n=a.lastName,i=a.address,c=a.country,r=a.CP,o=a.city,l=a.state,d=a.phoneNumber,h=a.gender,j=a.birthDateDay,u=a.birthDateMonth,b=a.birthDateYear,m=a.email,p=a.currentPassword,v=a.password,O=a.repeatpassword;console.log("this.state :>> ",s,n,i,c,r,o,l,d,h,j,u,b,m,p,v,O),g.editProfile(s,n,i,c,r,o,l,d,h,j,u,b,m,p,v,O).then((function(e){return console.log("Updated profile")})).catch((function(e){console.log("Error updating profile")}))},e.handleChange=function(t){var a=t.target,s=a.name,n=a.value;e.setState(Object(y.a)({},s,n))},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;return g.user().then((function(t){var a=t.firstName,s=t.lastName,n=t.address,i=t.country,c=t.CP,r=t.city,o=t.state,l=t.phoneNumber,d=t.gender,h=t.birthDateDay,j=t.birthDateMonth,u=t.birthDateYear,b=t.email;return e.setState({firstName:a,lastName:s,address:n,country:i,CP:c,city:r,state:o,phoneNumber:l,gender:d,birthDateDay:h,birthDateMonth:j,birthDateYear:u,email:b,currentPassword:"",password:"",repeatpassword:""}),R.getCountries()})).then((function(t){var a=t.countries;return e.setState({countries:a}),R.getCities})).then((function(t){var a=t.cities;e.setState({cities:a}),console.log("this.state from EditProfile Page:>> ",e.state)})).catch((function(e){console.log("Error retriving countries and cities",e)}))}},{key:"render",value:function(){return console.log("this.props :>> ",this.props),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{children:"Edit Profile"}),Object(s.jsxs)("form",{onSubmit:this.handleSignUpFormSubmit,children:[Object(s.jsx)("div",{children:Object(s.jsx)("label",{htmlFor:"firstName",children:"First name"})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"text",name:"firstName",value:this.state.firstName,onChange:this.handleChange})}),Object(s.jsx)("div",{children:Object(s.jsx)("label",{htmlFor:"lastName",children:"Last name"})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"text",name:"lastName",value:this.state.lastName,onChange:this.handleChange})}),Object(s.jsx)("div",{children:Object(s.jsx)("label",{htmlFor:"address",children:"Address"})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"text",name:"address",value:this.state.address,onChange:this.handleChange})}),Object(s.jsx)("div",{children:Object(s.jsx)("label",{htmlFor:"country",children:"Country"})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"text",name:"country",value:this.state.country,onChange:this.handleChange})}),Object(s.jsx)("div",{children:Object(s.jsx)("label",{htmlFor:"CP",children:"Zip code"})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"text",name:"CP",value:this.state.CP,onChange:this.handleChange})}),Object(s.jsx)("div",{children:Object(s.jsx)("label",{htmlFor:"city",children:"City"})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"text",name:"city",value:this.state.city,onChange:this.handleChange})}),Object(s.jsx)("div",{children:Object(s.jsx)("label",{htmlFor:"state",children:"State / state"})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"text",name:"state",value:this.state.state,onChange:this.handleChange})}),Object(s.jsx)("div",{children:Object(s.jsx)("label",{htmlFor:"phoneNumber",children:"Phone number"})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"text",name:"phoneNumber",value:this.state.phoneNumber,onChange:this.handleChange})}),Object(s.jsx)("div",{children:Object(s.jsx)("label",{htmlFor:"birthDateDay",children:"Birth date"})}),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"text",name:"birthDateDay",value:this.state.birthDateDay,onChange:this.handleChange}),"/",Object(s.jsx)("input",{type:"text",name:"birthDateMonth",value:this.state.birthDateMonth,onChange:this.handleChange}),"/",Object(s.jsx)("input",{type:"text",name:"birthDateYear",value:this.state.birthDateYear,onChange:this.handleChange})]}),Object(s.jsx)("div",{children:Object(s.jsx)("label",{htmlFor:"gender",children:"Gender"})}),Object(s.jsxs)("div",{children:["Male"," ","male"===this.state.gender?Object(s.jsx)("input",{type:"radio",id:"male",name:"gender",value:"male",checked:!0,onChange:this.handleChange}):Object(s.jsx)("input",{type:"radio",id:"male",name:"gender",value:"male",onChange:this.handleChange})," ","- Female"," ","female"===this.state.gender?Object(s.jsx)("input",{type:"radio",id:"female",name:"gender",value:"female",checked:!0,onChange:this.handleChange}):Object(s.jsx)("input",{type:"radio",id:"female",name:"gender",value:"female",onChange:this.handleChange}),"- Other"," ","other"===this.state.gender?Object(s.jsx)("input",{type:"radio",id:"other",name:"gender",value:"other",checked:!0,onChange:this.handleChange}):Object(s.jsx)("input",{type:"radio",id:"other",name:"gender",value:"other",onChange:this.handleChange})]}),Object(s.jsx)("div",{children:Object(s.jsx)("label",{htmlFor:"email",children:"Email:"})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"text",name:"email",value:this.state.email,onChange:this.handleChange})}),Object(s.jsx)("div",{children:Object(s.jsx)("label",{htmlFor:"password",children:"Current password:"})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"password",name:"currentPassword",value:this.state.currentPassword,onChange:this.handleChange})}),Object(s.jsx)("div",{children:Object(s.jsx)("label",{htmlFor:"password",children:"Password:"})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange})}),Object(s.jsx)("div",{children:Object(s.jsx)("label",{htmlFor:"password",children:"Repeat password:"})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"password",name:"repeatpassword",value:this.state.repeatpassword,onChange:this.handleChange})}),Object(s.jsx)("div",{children:Object(s.jsx)("input",{type:"submit",value:"Save data"})})]})]})}}]),a}(n.Component))),U=x(function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).getAllProducts=function(){O.getAll().then((function(t){e.setState({products:t})})).catch((function(e){console.log(e)}))},e.getCategoryProducts=function(t){O.getForCategories(t).then((function(t){e.setState({products:t})})).catch((function(e){console.log(e)}))},e.state={products:"",favourites:[]},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.category,t=[];(e=e?"":e)?this.getCategoryProducts(e):this.getAllProducts(),t=this.props.user?this.props.user.favourites:[],this.setState({favourites:t})}},{key:"render",value:function(){var e=this,t=this.state.products;return Object(s.jsxs)("div",{className:"productListContDiv",children:[Object(s.jsx)("div",{className:"menuCategories",children:Object(s.jsx)(L,{getCategoryProducts:this.getCategoryProducts})}),t&&t.map((function(t){return Object(s.jsx)("div",{children:Object(s.jsx)(P,{product:t,products:e.state.products,favourites:e.state.favourites})},t._id)}))]})}}]),a}(n.Component));function Y(){return Object(s.jsx)("div",{})}var H=a(36),B=a.n(H),G=a.p+"static/media/profile.30038340.png",K=x(S(function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(s.jsxs)("div",{className:"header",children:[Object(s.jsxs)("nav",{className:"navbar",children:[this.props.isLoggedIn?Object(s.jsxs)("div",{className:"homeUser",children:[Object(s.jsxs)("div",{className:"welcome",children:[Object(s.jsx)(o.b,{to:"/private/ViewProfile",children:Object(s.jsx)("img",{src:G,alt:"",className:"profileLogo"})}),Object(s.jsxs)("span",{children:["  Welcome ",this.props.user&&this.props.user.firstName]})]}),Object(s.jsx)("div",{className:"welcome",children:Object(s.jsx)(o.b,{onClick:this.props.logout,to:"#",children:"Logout"})})]}):Object(s.jsx)("div",{children:Object(s.jsx)("ul",{children:Object(s.jsx)("li",{children:Object(s.jsx)(o.b,{to:"/login",children:"Login / Sign Up"})})})}),Object(s.jsx)("div",{className:"menu",children:Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:Object(s.jsx)(o.b,{to:"/Home",children:"Home"})}),Object(s.jsx)("li",{children:Object(s.jsx)(o.b,{to:"/About",children:"About"})}),Object(s.jsx)("li",{children:Object(s.jsx)(o.b,{to:"/Contact",children:"Contact"})}),Object(s.jsxs)("li",{className:"cart",children:[Object(s.jsxs)(o.b,{to:"/private/cart",children:[Object(s.jsx)("ion-icon",{name:"cart"}),"Cart"]}),Object(s.jsx)("span",{children:this.props.context.cartElements})]})]})})]}),Object(s.jsx)("div",{className:"logoDiv",children:Object(s.jsx)("img",{src:"https://res.cloudinary.com/dps0lnavi/image/upload/v1607793773/LMeN_LOGO_4_y4ognl.png",alt:"",className:"logo"})})]})}}]),a}(n.Component))),V=a(23),q=a.n(V),z=a(37),Z={image:"",name:"",description:"",dimension:"",category:"",technic:"",material:"",price:"",stock:""},J=x(S(function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).save=function(){var e=Object(z.a)(q.a.mark((function e(t){var a,n,i,c,r,o,l,d,h,j,u;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=s.state,n=a.image,i=a.name,c=a.description,r=a.dimension,o=a.category,l=a.technic,d=a.material,h=a.price,j=a.stock,i&&h?(u=Math.random().toString(36).substring(2)+Date.now().toString(36),O.createOne(u,n,i,c,r,o,l,d,h,j),s.props.context.addProduct({image:n,name:i,description:c,dimension:r,category:o,technic:l,material:d,price:h,stock:j||0},(function(){return s.setState(Z)})),s.setState({flash:{status:"is-success",msg:"Product created successfully"}})):s.setState({flash:{status:"is-danger",msg:"Please enter name and price"}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.handleChange=function(e){var t;return s.setState((t={},Object(y.a)(t,e.target.name,e.target.value),Object(y.a)(t,"error",""),t))},s.state=Z,s}return Object(h.a)(a,[{key:"render",value:function(){var e=this.state,t=e.image,a=e.name,n=e.description,i=e.dimension,c=e.category,r=e.technic,o=e.material,l=e.price,d=e.stock,h=this.props.user;return h||"admin"===h.role?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"hero is-primary ",children:Object(s.jsx)("div",{className:"hero-body container",children:Object(s.jsx)("h4",{className:"title",children:"Add Product"})})}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("form",{onSubmit:this.save,children:Object(s.jsx)("div",{className:"columns is-mobile is-centered",children:Object(s.jsxs)("div",{className:"column is-one-third",children:[Object(s.jsxs)("div",{className:"field",children:[Object(s.jsx)("label",{className:"label",children:"Product Name: "}),Object(s.jsx)("input",{className:"input",type:"text",name:"name",value:a,onChange:this.handleChange,required:!0})]}),Object(s.jsxs)("div",{className:"field",children:[Object(s.jsx)("label",{className:"label",children:"Image: "}),Object(s.jsx)("input",{className:"input",type:"text",name:"image",value:t,onChange:this.handleChange,required:!0})]}),Object(s.jsxs)("div",{className:"field",children:[Object(s.jsx)("label",{className:"label",children:"Description: "}),Object(s.jsx)("textarea",{className:"textarea",type:"text",rows:"2",style:{resize:"none"},name:"description",value:n,onChange:this.handleChange})]}),Object(s.jsxs)("div",{className:"field",children:[Object(s.jsx)("label",{className:"label",children:"Dimension: "}),Object(s.jsx)("textarea",{className:"input",type:"text",name:"dimension",value:i,onChange:this.handleChange})]}),Object(s.jsxs)("div",{className:"field",children:[Object(s.jsx)("label",{className:"label",children:"Category: "}),Object(s.jsx)("textarea",{className:"input",type:"text",name:"category",value:c,onChange:this.handleChange})]}),Object(s.jsxs)("div",{className:"field",children:[Object(s.jsx)("label",{className:"label",children:"Technic: "}),Object(s.jsx)("textarea",{className:"input",type:"text",name:"technic",value:r,onChange:this.handleChange})]}),Object(s.jsxs)("div",{className:"field",children:[Object(s.jsx)("label",{className:"label",children:"Material: "}),Object(s.jsx)("textarea",{className:"input",type:"text",name:"material",value:o,onChange:this.handleChange})]}),Object(s.jsxs)("div",{className:"field",children:[Object(s.jsx)("label",{className:"label",children:"Price: "}),Object(s.jsx)("input",{className:"input",type:"number",name:"price",value:l,onChange:this.handleChange,required:!0})]}),Object(s.jsxs)("div",{className:"field",children:[Object(s.jsx)("label",{className:"label",children:"Available in Stock: "}),Object(s.jsx)("input",{className:"input",type:"number",name:"stock",value:d,onChange:this.handleChange})]}),this.state.flash&&Object(s.jsx)("div",{className:"notification ".concat(this.state.flash.status),children:this.state.flash.msg}),Object(s.jsx)("div",{className:"field is-clearfix",children:Object(s.jsx)("button",{className:"button is-primary is-outlined is-pulled-right",type:"submit",onClick:this.save,children:"Submit"})})]})})})]}):Object(s.jsx)("div",{children:"Here"})}}]),a}(n.Component)));var Q=S((function(e){var t=e.isLoggedIn,a=e.isLoading,n=e.component,i=e.exact,c=e.path;return a?"Loading":Object(s.jsx)(b.b,{exact:i,path:c,render:function(e){return t?Object(s.jsx)(b.a,{to:"/home"}):t?void 0:Object(s.jsx)(n,Object(l.a)({},e))}})}));var W=S((function(e){var t=e.isLoggedIn,a=e.isLoading,n=e.component,i=e.exact,c=e.path;return a?"Loading":Object(s.jsx)(b.b,{exact:i,path:c,render:function(e){return t?t?Object(s.jsx)(n,Object(l.a)({},e)):void 0:Object(s.jsx)(b.a,{to:"/login"})}})}));function $(){return Object(s.jsxs)("div",{className:"footer",children:[Object(s.jsxs)("div",{className:"FooterDivs",children:[Object(s.jsx)("h4",{children:"Buy online"}),Object(s.jsx)(L,{})]}),Object(s.jsxs)("div",{className:"FooterDivs",children:[Object(s.jsx)("h4",{children:"Customer care"}),Object(s.jsxs)("div",{children:[Object(s.jsx)(o.b,{to:"#",children:"Returns and refound"}),Object(s.jsx)(o.b,{to:"#",children:"Delivery"}),Object(s.jsx)(o.b,{to:"#",children:"Security and payments"}),Object(s.jsx)(o.b,{to:"#",children:"F.A.Q"}),Object(s.jsx)(o.b,{to:"#",children:"Contact us"})]})]}),Object(s.jsxs)("div",{className:"FooterDivs",children:[Object(s.jsx)("h4",{children:"Follow us on"}),Object(s.jsx)("div",{className:"socials",children:Object(s.jsx)("div",{className:"sharethis-inline-follow-buttons"})})]})]})}function X(){return Object(s.jsxs)("div",{class:"mainbox",children:[Object(s.jsx)("div",{class:"err",children:"4"}),Object(s.jsx)("div",{class:"err3",children:"0"}),Object(s.jsx)("div",{class:"err2",children:"4"}),Object(s.jsxs)("div",{class:"msg",children:["Maybe this page moved? Got deleted?",Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsxs)("p",{children:["Let's go ",Object(s.jsx)(o.b,{to:"/",children:"home"})," and try from there."]})]})]})}var ee=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).addToCart=function(e){for(var t=s.state.cart,a=s.state.cartElements,n=!1,i=0;i<t.length;i++){var c=t[i];c.id===e.id&&c.amount+e.amount<=c.product.stock&&(console.log("HERE"),c.amount+=e.amount,a?a+=c.amount:a=c.amount,s.setState({cartElements:a}),n=!0)}n||t.push(e)},s.removeFromCart=function(e){var t=s.state.cart;delete t[e],g.setCart(t).then((function(e){s.setState({cart:t})})).catch((function(e){}))},s.clearCart=function(){var e=[];g.setCart(e).then((function(t){s.setState({cart:e,cartElements:0})})).catch((function(e){}))},s.checkout=function(){if(s.state.user){var e=s.state.cart,t=s.state.products.map((function(t){return e[t.name]&&(t.stock=t.stock-e[t.name].amount,g.setAmount(t.name,t.stock).then((function(t){s.setState({cart:e,cartElements:0})})).catch((function(e){}))),t}));s.setState({products:t}),s.clearCart()}else s.routerRef.current.history.push("/login")},s.addToFavourites=function(e,t){console.log("this.state from Home addToFav :>> ",s.state);var a=s.state.favourites,n=s.state.isFavorite;console.log("favourites :>> ",a);var i=g.postFavorite(e,a).then((function(c){return console.log("Added to favourite created updated user:>> ",c),a.push(e),n=!0,s.setState({favourites:a,isFavorite:n},(function(){return t&&t()})),i})).catch((function(e){}))},s.state={user:"",cart:[],products:[],cartElements:0},s.routerRef=i.a.createRef(),s}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e,t,a=this,s=null,n=[],i=0;O.getAll().then((function(e){return t=e,g.me()})).then((function(t){return t?n=(e=t).favourites:e=null,g.getCart()})).then((function(c){s=c,i?i+=c.amount:i=0,a.setState({user:e,products:t,cart:s,cartElements:i,favourites:n})})).catch((function(e){console.log("Not found any User cart :>> ",e)}))}},{key:"render",value:function(){var e=this.state.category;return Object(s.jsx)(m.Provider,{value:Object(l.a)(Object(l.a)({},this.state),{},{removeFromCart:this.removeFromCart,addToCart:this.addToCart,login:this.login,addProduct:this.addProduct,clearCart:this.clearCart,checkout:this.checkout}),children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("header",{children:Object(s.jsx)(K,{category:e,changeCategory:this.changeCategory})}),Object(s.jsx)("div",{className:"pageContent",children:Object(s.jsxs)(b.d,{children:[Object(s.jsx)(b.b,{exact:!0,path:"/",category:e,component:I}),Object(s.jsx)(Q,{exact:!0,path:"/login",component:k}),Object(s.jsx)(b.b,{exact:!0,path:"/Home",component:U}),Object(s.jsx)(b.b,{exact:!0,path:"/ProductList",category:e,component:I}),Object(s.jsx)(b.b,{exact:!0,path:"/About",component:Y}),Object(s.jsx)(b.b,{exact:!0,path:"/ProductDetail/:id",component:M}),Object(s.jsx)(b.b,{exact:!0,path:"/category/:id",component:I}),Object(s.jsx)(b.b,{exact:!0,path:"/ProductList/category/:category",component:I}),Object(s.jsx)(W,{exact:!0,path:"/private/ViewProfile",component:E}),Object(s.jsx)(W,{exact:!0,path:"/private/EditProfile",component:T}),Object(s.jsx)(W,{exact:!0,path:"/private/Cart",component:C}),Object(s.jsx)(W,{exact:!0,path:"/private/Checkout",component:B.a}),Object(s.jsx)(W,{exact:!0,path:"/private/AddProduct",component:J}),Object(s.jsx)(b.b,{path:"*",component:X})]})}),Object(s.jsx)($,{})]})})}}]),a}(n.Component);r.a.render(Object(s.jsx)(o.a,{children:Object(s.jsx)(D,{children:Object(s.jsx)(ee,{})})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.97ac7247.chunk.js.map